
<a align="center"><img src="https://image.ibb.co/gPs5Se/Multi_World.png"></a>

<p align="center">
	<a href="https://poggit.pmmp.io/p/MultiWorld">
		<img src="https://poggit.pmmp.io/shield.state/MultiWorld?style=flat-square">
	</a>
	<a href="https://poggit.pmmp.io/p/MultiWorld">
		<img src="https://poggit.pmmp.io/shield.api/MultiWorld?style=flat-square">
	</a> 
	<a href="https://poggit.pmmp.io/p/MultiWorld">
		<img src="https://poggit.pmmp.io/shield.dl.total/MultiWorld?style=flat-square">
	</a> 
	<a href="https://poggit.pmmp.io/p/MultiWorld">
		<img src="https://poggit.pmmp.io/shield.dl/MultiWorld?style=flat-square">
	</a> 
	<a href="https://poggit.pmmp.io/ci/CzechPMDevs/MultiWorld/MultiWorld">
		<img src="https://poggit.pmmp.io/ci.shield/CzechPMDevs/MultiWorld/MultiWorld?style=flat-square">
	</a>
<br><br>
    ✔️ Passing PHPStan Level 8
    <br>
    ✔️ Simple WorldManagement FormUI
    <br>
    ✔️ Simple world management commands
    <br>
    ✔️New generators (Ender, Nether, Void, SkyBlock)
    <br>
    ✔️Custom world generator
    <br>
    ✔️ Fast, without lags
    <br>
    ✔️ Supports last PocketMine API version
    <br>
    ✔️ Multi language sytem
    <br>
    ✔️ Implemented Game Rules
    <br>
    ✔️ Simple API for other plugins
    <br><br>
</p>


## 👍 1.5.2 Update:

> - Bug fixes
> - New biomes in Custom world generator
> - Custom generator added to Form world manager


## ⬇️ Downloads:

| Version | Phar Download | Zip Download | API | Stable | Pre release |
| --- | --- | --- | --- | --- | --- |
| 1.5.2 | [Poggit releases](https://poggit.pmmp.io/p/MultiWorld/1.5.2) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/5ab655846002e4ce9cfd9768b519c2da6e84a8d4.zip) | 3.x.x | ✔️ | ❌ |
| 1.5.1 | [Poggit releases](https://poggit.pmmp.io/p/MultiWorld/1.5.2) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/7070892a1b272eab0152f188670150228fc57959.zip) | 3.x.x | ✔️ | ❌ |
| 1.5.0 | [Poggit releases](https://poggit.pmmp.io/p/MultiWorld/1.5.0) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/1.5.0) | 3.0.0, 3.1.0 | ✔️ | ❌ |
| 1.5.0-beta2 | [GitHub](https://github.com/CzechPMDevs/MultiWorld/releases/download/1.5.0-beta1/MultiWorld_v1.5.0-beta1.phar) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/1.5.0-beta1.zip) | 3.0.0, 3.1.0 | ✔️ |✔️ |
| 1.5.0-beta1 | [GitHub](https://github.com/CzechPMDevs/MultiWorld/releases/download/1.5.0-beta1/MultiWorld_v1.5.0-beta1.phar) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/1.5.0-beta1.zip) | 3.0.0, 3.1.0 | ❌ |✔️ |
| 1.4.3 | [Poggit Releases](https://poggit.pmmp.io/r/34104/MultiWorld.phar) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/ef6f73109c0438ab2a5c404ccdd288e2d73b5002.zip) | 3.0.0-ALPHA7 - 3.0.0 | ✔️ | ❌ |
| 1.4.2 | [Poggit Releases](https://poggit.pmmp.io/r/28962/MultiWorld.phar) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/1.4.2.zip) | 3.0.0-ALPHA7 - 3.0.0-ALPHA12 | ✔️ | ❌ |
| 1.4.1 | [Poggit-CI Downloads](https://poggit.pmmp.io/r/27881/MultiWorld_dev-99.phar) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/1.4.1.zip) | 3.0.0-ALPHA7 - 3.0.0-ALPHA12 | ✔️ | ❌ |
| 1.4.0 | [Poggit Releases](https://poggit.pmmp.io/r/25218/MultiWorld.phar) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/be4083eae06adc249e3d4a8968ea0992d42f929c.zip) | 3.0.0-ALPHA7 - 3.0.0-ALPHA11 | ✔️ | ❌ |
| 1.3.2 | [Poggit-CI Downloads](https://poggit.pmmp.io/r/11536/MultiWorld_dev-86.phar) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/5237db27b69fbf9a9aac66075fd81e9e804f180c.zip) | 3.0.0-ALPHA7 | ❌ | ❌ |
| 1.3.1 | [GitHub](https://github.com/CzechPMDevs/MultiWorld/releases/download/1.3.1/MultiWorld.phar) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/1.3.1.zip) | 3.0.0-ALPHA7 | ✔️ | ❌ |
| 1.3.0 | [Poggit-CI Downloads](https://poggit.pmmp.io/r/10889/MultiWorld.phar) | [GitHub](https://github.com/CzechPMDevs/MultiWorld/archive/1.3.0.zip) | 3.0.0-ALPHA7 | ❌ | ❌ |

<br>

> **Download latest version [here](https://poggit.pmmp.io/r/34104/MultiWorld.phar)**

> **All released versions [here](https://github.com/CzechPMDevs/MultiWorld/releases)**
> **All development builds on [Poggit](https://poggit.pmmp.io/ci/CzechPMDevs/MultiWorld/MultiWorld)**
> **Latest released version on [Poggit](https://poggit.pmmp.io/p/MultiWorld)**
> **Other plugins by CzechPMDevs [here](https://poggit.pmmp.io/plugins/by/CzechPMDevs)**

<br>


## 📁 Supported software:

**This plugin works only on PocketMine-MP.** You can download [MultiWorld by Creeperface](https://github.com/Creeperface01/MultiWorld) for Nukkit or [MultiWorld by ferrybig](https://dev.bukkit.org/projects/multiworld-v-2-0) for Bukkit. **PMMP Spoons are NOT supported.**


## 🔧 How to install MultiWorld?

1) [Download](https://poggit.pmmp.io/p/MultiWorld) latest stable released version from poggit
2) Move dowloaded file to your server **/plugins/** folder
3) Restart the server


## 🌎 World management commands:

- All MultiWorld commands starts with `/mw` (`/multiworld`) except for the `/gamerule` command that was added as an alias to change game rules from settings.
- In game, you can get list of all commands using commands `/mw help`

<br>

**All MultiWorld Commands:**

| **Command** | **Description** |
| --- | --- |
| **/mw help** | **Displays list of all MultiWorld commands** <br><br> Alias: `/mw ?` <br>Usage: `/mw help <page: 0-1>`|
| **/mw create** | **Generate new world using seed and generator** <br><br> Aliases: `/mw new`, `/mw generate` <br> Usage: `/mw create <levelName> [seed] [generator]` <br><br> Seed is value seed is the initial value by which the world is generated, when you set it empty, world will be generated by random number. You can use 6 generators (`Normal`, `Nether`, `End`, `Void`, `SkyBock` and `Nether_Old` = Nether generator without glowstone and quartz ore) |
| **/mw teleport** | **Teleports you or seleced player to world spawn** <br><br> Aliases: `/mw tp`, `/tp move` <br> Usage: `/mw tp <levelName> [player]` <br><br> If you are using [Slapper](https://poggit.pmmp.io/p/Slapper/) plugin and after you click on the npc you want to move the player to another world, you can use `/slapper edit <id> addcommand mw tp <world> {player}` command |
| **/mw list** |**Displays list of all levels** <br><br> Alias: `/mw ls` <br> Usage: `/mw list` |
| **/mw info** | **Displays level information** <br><br> Alias: `/mw i` <br> Usage: `/mw info` <br><br> This command can be used only in game |
| **/mw delete** | **Remove level** <br><br> Aliases: `/mw del`, `/mw dl`, `/mw remove`, `/mw rm` <br>Usage: `/mw remove <level>` <br><br> Default level can not be deleted |
| **/mw update** | **Change spawn, lobby or default level** <br><br> Aliases: `/mw ue` <br> Usage: `/mw update <spawn|lobby|default> [x] [y] [z] [world]` <br><br> In game enough type `/mw update <...>` without `[x] [y] [z] [world]`, subcommand `lobby` can be used only in game |
| **/mw load** | **Loads level** <br><br> Aliases: `/mw ld` <br> Usage: `/mw load <level>` |
| **/mw unload** | **Unloads level** <br><br> Aliases: `/mw unld` <br> Usage: `/mw unload <level>` |
| **/mw gamerule** | **Manage with level game rules** <br><br>Aliases: `/gamerule`, `/mw gr`, `/mw gamer`, `/mw grule` <br> Usage: `/gamerule <list|gamerule> [bool|false]` <br><br> Level game rules can be changed in server settings, implemented game rules: `doDaylightCycle`, `doMobLoot`, `doTileDrops`, `keepInventory`, `naturalRegeneration`, `pvp`, `showcoordinates` and `tntexplodes` more informations can be found on [WorldGameRulesAPI documentation]() |
| **/mw rename** | **Renames level** <br><br>Aliases: `/mw rnm`, `/mw re` <br> Usage: `/mw rename <levelName> <newName>` <br><br> This command changes name of the folder and of nbt too. |
| **/mw manage** | **Opens world form manager** <br><br>Aliases: `/mw mng`, `/mw mg` <br> Usage: `/mw manage` <br><br> The form manager just dispatches command as a player, so player needs also permission for the command. |


## 📃  Permissions:

- You can use permission `mw.cmd` for all commands 
<br>

**All MultiWorlds Permissions:**

| Permission | Command | Operator |
| --- | --- | --- | 
| mw.cmd.help | `/mw help` | ✔️ |
| mw.cmd.create | `/mw create` | ✔️ |
| mw.cmd.teleport | `/mw teleport` | ✔️ |
| mw.cmd.list | `/mw list` | ✔️ |
| mw.cmd.info | `/mw info` | ✔️ |
| mw.cmd.delete | `/mw delete` | ✔️ |
| mw.cmd.update | `/mw update` | ✔️ |
| mw.cmd.load | `/mw load` | ✔️ |
| mw.cmd.unload | `/mw unload` | ✔️ |
| mw.cmd.gamerule | `/mw gamerule` | ✔️ |
| mw.cmd.rename | `/mw rename` | ✔️ |
| mw.cmd.manage | `/mw manage` | ✔️ |


## ⛰️ Generators

### Custom World Generator:

<img src="https://i.ibb.co/vxyLDT6/image.png">
<img src="https://i.ibb.co/sW1Y2ch/image.png">
<img src="https://i.ibb.co/2PSm2C9/image.png">
<img src="https://i.ibb.co/0Yjk82L/image.png">
<img src="https://i.ibb.co/MGQkkyc/image.png">
<img src="https://i.ibb.co/0tMc8Cs/image.png">
<img src="https://i.ibb.co/p1w1tCV/image.png">
<img src="https://i.ibb.co/b1qJ6Ys/image.png">
<img src="https://i.ibb.co/rtY37Gj/image.png">

###  Nether World Generator:
<img src="https://i.ibb.co/1KXb8FX/image.png">
<img src="https://i.ibb.co/xm05rDw/image.png">

### End World Generator:
<img src="https://i.ibb.co/G7rbRHp/image.png">
<img src="https://i.ibb.co/KsPPjrJ/image.png">

### SkyBlock Generator:
<img src="https://i.ibb.co/DDVM4zM/image.png">


##  🗺️ World Management API

- World management api was added in MultiWorld v1.5.0, you can download stubs on [release page](), there are all WorldManagementAPI methods

**Examples:**

```php
/**  
 * @param string $levelName  
 *
 * @return bool  
 */
 public function reloadWorld(string $levelName): bool {  
   if(!WorldManagementAPI::isLevelGenerated($levelName)) {  
     return false;  
   }

   if(!WorldManagementAPI::isLevelLoaded($levelName)) {  
     WorldManagementAPI::loadLevel($levelName);  
   }

   WorldManagementAPI::removeLevel($levelName);  
   WorldManagementAPI::generateLevel($levelName, rand(0, 100), WorldManagementAPI::GENERATOR_SKYBLOCK);  
   return true;  
}
```


## 🖊️  World Game Rules API


- The World game rules API was added in MultiWorld v1.5.0, you can download stubs on [release page](), there are all WorldGameRulesAPI methods

- **All implemented GameRules:  `doDaylightCycle`, `doMobLoot`, `doTileDrops`, `keepInventory`, `naturalRegeneration`, `pvp`, `showcoordinates`and `tntexplodes`**
- **GameRules are stored in level.dat in CompoundTag `GameRules`, you can look at it using [NBTExplorer](https://www.minecraftforum.net/forums/mapping-and-modding-java-edition/minecraft-tools/1262665-nbtexplorer-nbt-editor-for-windows-and-mac) or [UniversalMinecraftEditor](https://www.universalminecrafteditor.com/).**

**Examples:**

```php
<?php  
  
declare(strict_types=1);  
  
namespace xyz;  
  
use multiworld\api\WorldGameRulesAPI;  
use pocketmine\command\Command;  
use pocketmine\command\CommandSender;  
use pocketmine\event\level\LevelLoadEvent;  
use pocketmine\event\Listener;  
use pocketmine\plugin\PluginBase;  
  
/**  
 * Class XYZPlugin
 * @package xyz  
 */
class XYZPlugin extends PluginBase implements Listener {
 
  /** @var bool $enabled */  
  private $enabled = false;  
  
  public function onEnable() {  
    $this->getServer()->getPluginManager()->registerEvents($this, $this);  
    $this->update();  
  }
    
  /**  
    * @param CommandSender $sender  
    * @param Command $command  
    * @param string $label  
    * @param array $args
    *   
    * @return bool  
    */
   public function onCommand(CommandSender $sender, Command $command, string $label, array $args): bool {
     if($command->getName() !== "xyz") {
       return false;
     }
     $bool = $this->enabled ? "off" : "on";
     $sender->sendMessage("§a> Coordinates turned $bool!");
     $this->enabled = !$this->enabled;
     $this->update();
     return true;
   }  
   
 /**  
   * @param LevelLoadEvent $event  
   */
  public function onLevelLoad(LevelLoadEvent $event) {
    WorldGameRulesAPI::updateLevelGameRule($event->getLevel(), "showcoordinates", $this->enabled);  
  }
  
  private function update() {
    foreach ($this->getServer()->getLevels() as $level) {  
      WorldGameRulesAPI::updateLevelGameRule($level, "showcoordinates", $this->enabled);  
    }
  }
}  
```


## 🌐Add your language!

- Do you want to help with the development of MultiWorld? Add your native language!

1) Open [lanuage resource file](https://github.com/CzechPMDevs/MultiWorld/tree/master/resources/languages)
2) Click create new file
3) Translate e.g. language from English file https://github.com/CzechPMDevs/MultiWorld/blob/master/resources/languages/en_US.yml
4) Click Propose new file


## 💰 Credits

- Icon made by [Freepik](http://www.freepik.com/ "Freepik") from [www.flaticon.com](https://www.flaticon.com/ "Flaticon") is licensed by [CC 3.0 BY](http://creativecommons.org/licenses/by/3.0/ "Creative Commons BY 3.0")
- Japanese translation by [fuyutsuki](https://github.com/fuyutsuki)
- Russian translation by [SteinsSquad (themestl)](https://github.com/themestl)
- Indonesian translation by [WooWBoom](https://github.com/GitWoow)
- German translation by [SchdowNVIDIA](https://github.com/SchdowNVIDIA) and [Tobikisss](https://github.com/Tobikisss)
- Chinese translation by [abc1460132901](https://github.com/abc1460132901)

##  💡 License

```
MultiWorld - PocketMine plugin that manages worlds.
Copyright (C) 2018 CzechPMDevs

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see <https://www.gnu.org/licenses/>.
```

Full license [here](https://github.com/CzechPMDevs/MultiWorld/blob/master/LICENSE).
